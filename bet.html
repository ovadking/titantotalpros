<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProProp | Dynamic NFL Predictor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .active-tab { border-bottom: 3px solid #10b981; color: #10b981; }
        .glass-panel { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(12px); }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen font-sans">

    <nav class="p-4 border-b border-slate-800 glass-panel sticky top-0 z-50">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <h1 class="text-xl font-black text-emerald-500 tracking-tighter uppercase">ProProp <span class="text-white">v2.0</span></h1>
            <select id="game-selector" onchange="updateUI()" class="bg-slate-800 border border-slate-700 text-sm rounded-lg p-2 outline-none focus:ring-2 focus:ring-emerald-500">
                <option value="all">All Upcoming Games</option>
                <option value="KC@CIN">Chiefs @ Bengals</option>
                <option value="PHI@DAL">Eagles @ Cowboys</option>
                <option value="BAL@HOU">Ravens @ Texans</option>
            </select>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto p-4">
        <div class="flex space-x-8 border-b border-slate-800 mb-6 overflow-x-auto whitespace-nowrap">
            <button onclick="setCategory('TD')" class="category-btn py-4 text-sm font-bold active-tab" id="btn-TD">TOUCHDOWNS</button>
            <button onclick="setCategory('REC')" class="category-btn py-4 text-sm font-bold text-slate-500" id="btn-REC">RECEPTIONS</button>
            <button onclick="setCategory('RUSH')" class="category-btn py-4 text-sm font-bold text-slate-500" id="btn-RUSH">RUSHING YDS</button>
            <button onclick="setCategory('PASS_TD')" class="category-btn py-4 text-sm font-bold text-slate-500" id="btn-PASS_TD">TD THROWS</button>
        </div>

        <div id="prop-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
    </main>

    <script>
        // Expanded Data Structure to support multiple categories
        const propDatabase = [
            { 
                id: "KC@CIN", player: "Patrick Mahomes", 
                TD: { line: 0.5, season: 0.4, h2h: 0.6 },
                REC: { line: 0, season: 0, h2h: 0 },
                RUSH: { line: 22.5, season: 25.1, h2h: 18.5 },
                PASS_TD: { line: 1.5, season: 1.8, h2h: 2.1 }
            },
            { 
                id: "PHI@DAL", player: "Saquon Barkley", 
                TD: { line: 0.5, season: 0.9, h2h: 1.1 },
                REC: { line: 3.5, season: 4.2, h2h: 3.8 },
                RUSH: { line: 85.5, season: 94.2, h2h: 78.0 },
                PASS_TD: { line: 0, season: 0, h2h: 0 }
            },
            { 
                id: "BAL@HOU", player: "Derrick Henry", 
                TD: { line: 0.5, season: 1.2, h2h: 1.5 },
                REC: { line: 1.5, season: 1.1, h2h: 0.8 },
                RUSH: { line: 92.5, season: 101.4, h2h: 124.5 },
                PASS_TD: { line: 0, season: 0, h2h: 0 }
            }
        ];

        let currentCategory = 'TD';

        function setCategory(cat) {
            currentCategory = cat;
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active-tab', 'text-emerald-500'));
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.add('text-slate-500'));
            document.getElementById(`btn-${cat}`).classList.add('active-tab', 'text-emerald-500');
            updateUI();
        }

        function updateUI() {
            const selectedGame = document.getElementById('game-selector').value;
            const container = document.getElementById('prop-grid');
            container.innerHTML = '';

            const filteredData = selectedGame === 'all' 
                ? propDatabase 
                : propDatabase.filter(p => p.id === selectedGame);

            filteredData.forEach(p => {
                const statData = p[currentCategory];
                if(statData.line === 0 && currentCategory !== 'TD') return; // Skip players with no data for category

                // Projection Logic: (Season * 0.7) + (H2H * 0.3)
                const projection = (statData.season * 0.7) + (statData.h2h * 0.3);
                const edge = (((projection - statData.line) / statData.line) * 100).toFixed(1);
                const isOver = projection > statData.line;

                container.innerHTML += `
                    <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 hover:border-emerald-500/50 transition-all group">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <p class="text-[10px] font-bold text-slate-500 uppercase">${p.id}</p>
                                <h3 class="text-xl font-bold group-hover:text-emerald-400 transition">${p.player}</h3>
                            </div>
                            <span class="bg-slate-800 text-[10px] px-2 py-1 rounded font-bold italic">LIVE ODDS</span>
                        </div>

                        <div class="space-y-3">
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-400">Sportsbook Line:</span>
                                <span class="font-mono font-bold">${statData.line}</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-400">Our Projection:</span>
                                <span class="font-mono font-bold text-emerald-400">${projection.toFixed(2)}</span>
                            </div>
                            
                            <div class="mt-4 pt-4 border-t border-slate-800 flex items-center justify-between">
                                <span class="text-xs font-bold text-slate-500">PREDICTED EDGE</span>
                                <span class="text-lg font-black ${isOver ? 'text-emerald-500' : 'text-red-500'}">
                                    ${isOver ? '+' : ''}${edge}%
                                </span>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        // Initialize
        updateUI();
    </script>
</body>
</html>
