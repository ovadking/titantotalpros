<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 17 Live Intel | NFL Prop Predictor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .game-btn.active { border-color: #3b82f6; background-color: #1e293b; color: white; }
        .prediction-box { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); }
    </style>
</head>
<body class="bg-[#020617] text-slate-100 min-h-screen">

    <header class="p-6 border-b border-slate-800 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-black text-blue-500 italic">INTEL<span class="text-white">PROPS</span></h1>
                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">Live: Saturday, Dec 27, 2025</p>
            </div>
            <div class="text-right hidden md:block">
                <p class="text-xs text-green-400 font-bold">● LIVE UPDATES ACTIVE</p>
                <p class="text-[10px] text-slate-500">Weather: Lambeau Field 28°F / SoFi Stadium Dome</p>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto p-4 py-8">
        
        <section class="mb-10">
            <h2 class="text-sm font-bold text-slate-500 uppercase mb-4 tracking-tighter">1. Select Today's Game</h2>
            <div class="flex gap-4 overflow-x-auto pb-2">
                <button onclick="selectGame('TEX@LAC')" id="btn-TEX@LAC" class="game-btn flex-shrink-0 px-6 py-4 border border-slate-800 rounded-2xl bg-slate-900/50 text-left hover:border-slate-600 transition active">
                    <p class="text-[10px] font-bold text-blue-500">4:30 PM ET</p>
                    <p class="font-bold">Texans @ Chargers</p>
                </button>
                <button onclick="selectGame('RAV@GB')" id="btn-RAV@GB" class="game-btn flex-shrink-0 px-6 py-4 border border-slate-800 rounded-2xl bg-slate-900/50 text-left hover:border-slate-600 transition">
                    <p class="text-[10px] font-bold text-blue-500">8:00 PM ET</p>
                    <p class="font-bold text-slate-400">Ravens @ Packers</p>
                </button>
            </div>
        </section>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-4">
                <h2 class="text-sm font-bold text-slate-500 uppercase tracking-tighter">2. Season Stats & Matchup Data</h2>
                <div id="roster-list" class="space-y-3">
                    </div>
            </div>

            <div class="space-y-4">
                <h2 class="text-sm font-bold text-slate-500 uppercase tracking-tighter">3. Our Best Prediction</h2>
                <div id="prediction-engine" class="prediction-box border border-slate-700 rounded-3xl p-6 shadow-2xl sticky top-28">
                    <p class="text-slate-500 text-sm italic text-center py-10">Select a player to generate a model prediction...</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        const database = {
            "TEX@LAC": [
                { name: "C.J. Stroud", pos: "QB", yds: 3450, tds: 18, line: 232.5, h2h: 210.5, note: "Face 2nd worst pass defense today." },
                { name: "Nico Collins", pos: "WR", yds: 1102, tds: 8, line: 71.5, h2h: 88.0, note: "Top target; Charger secondary is depleted." },
                { name: "Danielle Hunter", pos: "DE", yds: "13 Sacks", tds: 75, line: 0.5, h2h: 1.0, note: "Sack specialist vs struggling O-Line." },
                { name: "Justin Herbert", pos: "QB", yds: 3491, tds: 25, line: 215.5, h2h: 198.5, note: "Tough matchup; Texans allow low YPA." }
            ],
            "RAV@GB": [
                { name: "Derrick Henry", pos: "RB", yds: 1253, tds: 12, line: 81.5, h2h: 105.4, note: "Expect 20+ carries with Lamar Jackson Doubtful." },
                { name: "Josh Jacobs", pos: "RB", yds: 926, tds: 13, line: 64.5, h2h: 58.0, note: "Main weapon as QB Jordan Love is OUT." },
                { name: "Zay Flowers", pos: "WR", yds: 890, tds: 5, line: 52.5, h2h: 44.0, note: "Reliable target for backup QB Tyler Huntley." },
                { name: "Malik Willis", pos: "QB", yds: 450, tds: 3, line: 18.5, h2h: 22.0, note: "Starting for injured Jordan Love; watch rushing yards." }
            ]
        };

        function selectGame(gameId) {
            document.querySelectorAll('.game-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-${gameId}`).classList.add('active');
            renderRoster(gameId);
        }

        function renderRoster(gameId) {
            const list = document.getElementById('roster-list');
            list.innerHTML = '';
            database[gameId].forEach(p => {
                list.innerHTML += `
                    <div onclick="generatePrediction('${p.name}', '${gameId}')" class="bg-slate-900/40 border border-slate-800 p-4 rounded-2xl flex justify-between items-center cursor-pointer hover:border-blue-500/50 transition">
                        <div class="flex items-center gap-3">
                            <span class="text-[10px] font-bold bg-slate-800 text-slate-400 px-2 py-1 rounded tracking-widest">${p.pos}</span>
                            <span class="font-bold text-lg">${p.name}</span>
                        </div>
                        <div class="text-right">
                            <p class="text-[10px] text-slate-500 uppercase font-black">Season Total</p>
                            <p class="font-mono text-blue-400">${p.yds} <span class="text-slate-600 text-xs">YDS</span></p>
                        </div>
                    </div>
                `;
            });
        }

        function generatePrediction(name, gameId) {
            const player = database[gameId].find(p => p.name === name);
            const display = document.getElementById('prediction-engine');
            
            // MATH: Weighted Calculation for the Prediction
            // (Season Avg * 0.4) + (Historical H2H * 0.4) + (Matchup Context * 0.2)
            const seasonAvg = typeof player.yds === 'number' ? player.yds / 15 : 0; 
            const projection = (seasonAvg * 0.4) + (player.h2h * 0.4) + (player.line * 0.2);
            const prob = Math.floor(Math.random() * (78 - 58) + 58); // Simulating hit probability
            const pick = projection > player.line ? "OVER" : "UNDER";

            display.innerHTML = `
                <div class="animate-in fade-in duration-500">
                    <div class="text-center border-b border-slate-800 pb-4 mb-6">
                        <h3 class="text-2xl font-black">${player.name}</h3>
                        <p class="text-xs text-blue-500 font-bold uppercase tracking-widest">${player.pos} | ${gameId}</p>
                    </div>

                    <div class="space-y-6">
                        <div class="flex justify-between items-center">
                            <span class="text-slate-400 text-xs uppercase font-bold">Recommended Pick:</span>
                            <span class="bg-blue-600 px-3 py-1 rounded text-xs font-black italic tracking-tighter">${pick} ${player.line}</span>
                        </div>

                        <div class="text-center p-6 bg-slate-950/50 rounded-2xl border border-slate-800">
                            <p class="text-[10px] text-slate-500 uppercase font-bold mb-1">Model Confidence</p>
                            <p class="text-4xl font-black text-white">${prob}%</p>
                            <div class="w-full bg-slate-800 h-1.5 mt-3 rounded-full overflow-hidden">
                                <div class="bg-blue-500 h-full" style="width: ${prob}%"></div>
                            </div>
                        </div>

                        <div class="bg-blue-900/10 border border-blue-500/20 p-4 rounded-xl">
                            <p class="text-[10px] font-black text-blue-400 uppercase mb-2">Why we like this:</p>
                            <p class="text-xs leading-relaxed text-slate-300">"${player.note} Our model projects ${projection.toFixed(1)} performance based on historical H2H trends."</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Initialize with first game
        selectGame('TEX@LAC');
    </script>
</body>
</html>
